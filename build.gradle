buildscript {
  repositories {
    mavenRepo name: 'clojars', url: 'http://clojars.org/repo'
  }
  dependencies {
    classpath 'clojuresque:clojuresque:1.5.+'
  }
}

apply plugin: 'idea'
ideaModule.enabled = false

subprojects {
  group = 'crackle'
  version = '0.4.0-SNAPSHOT'

  apply plugin: 'java'
  apply plugin: 'clojure'
  apply plugin: 'idea'

  warnOnReflection = true

  repositories {
    mavenCentral()
    clojarsRepo()
    mavenRepo url: "https://repository.cloudera.com/artifactory/cloudera-repos"
  }

  dependencies {
    compile 'org.clojure:clojure:1.4.+'
  }

  compileClojure.dependsOn compileJava

  clean.doFirst {
    ant.delete(dir: 'lib')
  }
}
