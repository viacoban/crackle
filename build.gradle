buildscript {
  repositories {
    mavenRepo name: 'clojars', url: 'http://clojars.org/repo'
  }
  dependencies {
    classpath 'clojuresque:clojuresque:1.5.+'
  }
}

apply plugin: 'idea'
ideaModule.enabled = false

subprojects {
  group = 'crackle'
  version = '0.2.0'

  apply plugin: 'java'
  apply plugin: 'clojure'
  apply plugin: 'idea'

  aotCompile = true
  warnOnReflection = true

  repositories {
    mavenCentral()
    clojarsRepo()
    mavenRepo url: "https://repository.cloudera.com/artifactory/cloudera-repos"
  }

  dependencies {
    compile 'org.clojure:clojure:1.4.+'
  }

  compileClojure.dependsOn compileJava

//  task writePom << {
//    pom {
//      project {
//        licenses {
//          license {
//            name 'Eclipse Public License'
//            url 'http://www.eclipse.org/legal/epl-v10.html'
//          }
//        }
//      }
//    }.writeTo("$buildDir/pom.xml")
//  }
}
