group = 'crackle'
version = '0.1.0'

buildscript {
  repositories {
    mavenRepo name: 'clojars', url: 'http://clojars.org/repo'
  }
  dependencies {
    classpath 'clojuresque:clojuresque:1.5.+'
  }
}

apply plugin: 'java'
apply plugin: 'clojure'
apply plugin: 'idea'
apply plugin: 'maven'

repositories {
  mavenCentral()
  clojarsRepo()
}

dependencies {
  compile 'org.clojure:clojure:1.4.+'
  compile 'storm:carbonite:1.5.+'
  compile 'shady:shady:0.1.1'

  compile 'org.apache.crunch:crunch:0.4.0-incubating'
  compile 'org.apache.crunch:crunch-hbase:0.4.0-incubating'

  compile 'org.apache.hadoop:hadoop-client:1.0.+'
  compile 'org.apache.hbase:hbase:0.92.+'
}

compileClojure.dependsOn compileJava

task writePom << {
  pom {
    project {
      licenses {
        license {
          name 'Eclipse Public License'
          url 'http://www.eclipse.org/legal/epl-v10.html'
        }
      }
    }
  }.writeTo("$buildDir/pom.xml")
}
